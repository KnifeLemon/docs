# Встановлення

## Завантажте файли

Переконайтесь, що у вас на системі встановлено PHP. Якщо ні, натисніть [тут](#installing-php) для інструкцій щодо його встановлення.

Якщо ви використовуєте [Composer](https://getcomposer.org), ви можете виконати наступну
команду:

```bash
composer require flightphp/core
```

АБО ви можете [завантажити файли](https://github.com/flightphp/core/archive/master.zip)
 безпосередньо та витягти їх у свій веб-директорію.

## Налаштуйте свій веб-сервер

### Вбудований сервер розробки PHP

Це, безумовно, найпростіший спосіб запустити свій проект. Ви можете використовувати вбудований сервер, щоб запустити своє застосування та навіть використовувати SQLite для бази даних (якщо sqlite3 встановлено на вашій системі) і не вимагати багато чого! Просто виконайте наступну команду після встановлення PHP:

```bash
php -S localhost:8000
```

Потім відкрийте свій браузер і перейдіть на `http://localhost:8000`.

Якщо ви хочете зробити корінь документа вашого проекту в іншому каталозі (Наприклад: ваш проект `~/myproject`, але корінь документа `~/myproject/public/`), ви можете виконати наступну команду, як тільки ви в директорії `~/myproject`:

```bash
php -S localhost:8000 -t public/
```

Потім відкрийте свій браузер і перейдіть на `http://localhost:8000`.

### Apache

Переконайтесь, що Apache вже встановлено на вашій системі. Якщо ні, знайдіть у Google, як встановити Apache на вашій системі.

Для Apache, відредагуйте свій файл `.htaccess` наступним чином:

```apacheconf
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]
```

> **Примітка**: Якщо вам потрібно використовувати flight в підкаталозі, додайте рядок
> `RewriteBase /subdir/` відразу після `RewriteEngine On`.

> **Примітка**: Якщо ви хочете захистити всі серверні файли, такі як db чи env файл.
> Помістіть це у свій файл `.htaccess`:

```apacheconf
RewriteEngine On
RewriteRule ^(.*)$ index.php
```

### Nginx

Переконайтесь, що Nginx вже встановлено на вашій системі. Якщо ні, знайдіть у Google, як встановити Nginx на вашу систему.

Для Nginx, додайте наступне до вашої декларації сервера:

```nginx
server {
  location / {
    try_files $uri $uri/ /index.php;
  }
}
```

## Створіть свій файл `index.php`

```php
<?php

// Якщо ви використовуєте Composer, підключіть автозавантажувач.
require 'vendor/autoload.php';
// якщо ви не використовуєте Composer, підключіть фреймворк безпосередньо
// require 'flight/Flight.php';

// Потім визначте маршрут і призначте функцію для обробки запиту.
Flight::route('/', function () {
  echo 'hello world!';
});

// Нарешті, запустіть фреймворк.
Flight::start();
```

## Встановлення PHP

Якщо у вас вже встановлено `php` на вашій системі, сміливо пропустіть ці інструкції та перейдіть до [розділу завантаження](#download-the-files)

Звичайно! Ось інструкції для встановлення PHP на macOS, Windows 10/11, Ubuntu та Rocky Linux. Я також включу деталі про те, як встановити різні версії PHP.

### **macOS**

#### **Встановлення PHP за допомогою Homebrew**

1. **Встановіть Homebrew** (якщо ще не встановлено):
   - Відкрийте Terminal і виконайте:
     ```bash
     /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
     ```

2. **Встановіть PHP**:
   - Встановіть останню версію:
     ```bash
     brew install php
     ```
   - Щоб встановити конкретну версію, наприклад, PHP 8.1:
     ```bash
     brew tap shivammathur/php
     brew install shivammathur/php/php@8.1
     ```

3. **Перемикання між версіями PHP**:
   - Відключіть поточну версію та підключіть бажану версію:
     ```bash
     brew unlink php
     brew link --overwrite --force php@8.1
     ```
   - Перевірте встановлену версію:
     ```bash
     php -v
     ```

### **Windows 10/11**

#### **Встановлення PHP вручну**

1. **Завантажте PHP**:
   - Відвідайте [PHP для Windows](https://windows.php.net/download/) і завантажте останню або конкретну версію (наприклад, 7.4, 8.0) у вигляді zip-файлу без підтримки потоків.

2. **Розпакуйте PHP**:
   - Розпакуйте завантажений zip-файл до `C:\php`.

3. **Додайте PHP до системної PATH**:
   - Перейдіть до **Системні властивості** > **Змінні середовища**.
   - У розділі **Системні змінні** знайдіть **Path** і натисніть **Редагувати**.
   - Додайте шлях `C:\php` (або куди ви розпакували PHP).
   - Натисніть **ОК**, щоб закрити всі вікна.

4. **Налаштуйте PHP**:
   - Скопіюйте `php.ini-development` у `php.ini`.
   - Відредагуйте `php.ini`, щоб налаштувати PHP за потреби (наприклад, налаштування `extension_dir`, увімкнення розширень).

5. **Перевірте установку PHP**:
   - Відкрийте командний рядок і виконайте:
     ```cmd
     php -v
     ```

#### **Встановлення кількох версій PHP**

1. **Повторіть вищезазначені кроки** для кожної версії, розміщуючи кожну в окремій директорії (наприклад, `C:\php7`, `C:\php8`).

2. **Перемикання між версіями** шляхом коригування системної змінної PATH, щоб вказати на директорію бажаної версії.

### **Ubuntu (20.04, 22.04 тощо)**

#### **Встановлення PHP за допомогою apt**

1. **Оновіть списки пакетів**:
   - Відкрийте Terminal і виконайте:
     ```bash
     sudo apt update
     ```

2. **Встановіть PHP**:
   - Встановіть останню версію PHP:
     ```bash
     sudo apt install php
     ```
   - Щоб встановити конкретну версію, наприклад, PHP 8.1:
     ```bash
     sudo apt install php8.1
     ```

3. **Встановлення додаткових модулів** (за бажанням):
   - Наприклад, щоб встановити підтримку MySQL:
     ```bash
     sudo apt install php8.1-mysql
     ```

4. **Перемикання між версіями PHP**:
   - Використовуйте `update-alternatives`:
     ```bash
     sudo update-alternatives --set php /usr/bin/php8.1
     ```

5. **Перевірте встановлену версію**:
   - Виконайте:
     ```bash
     php -v
     ```

### **Rocky Linux**

#### **Встановлення PHP за допомогою yum/dnf**

1. **Увімкніть репозиторій EPEL**:
   - Відкрийте Terminal і виконайте:
     ```bash
     sudo dnf install epel-release
     ```

2. **Встановіть репозиторій Remi**:
   - Виконайте:
     ```bash
     sudo dnf install https://rpms.remirepo.net/enterprise/remi-release-8.rpm
     sudo dnf module reset php
     ```

3. **Встановіть PHP**:
   - Щоб встановити версію за замовчуванням:
     ```bash
     sudo dnf install php
     ```
   - Щоб встановити конкретну версію, наприклад, PHP 7.4:
     ```bash
     sudo dnf module install php:remi-7.4
     ```

4. **Перемикання між версіями PHP**:
   - Використовуйте команду модуля `dnf`:
     ```bash
     sudo dnf module reset php
     sudo dnf module enable php:remi-8.0
     sudo dnf install php
     ```

5. **Перевірте встановлену версію**:
   - Виконайте:
     ```bash
     php -v
     ```

### **Загальні нотатки**

- Для середовищ розробки важливо налаштувати параметри PHP відповідно до вимог вашого проекту. 
- При перемиканні версій PHP переконайтесь, що всі необхідні розширення PHP встановлено для конкретної версії, яку ви плануєте використовувати.
- Перезапустіть свій веб-сервер (Apache, Nginx тощо) після перемикання версій PHP або оновлення конфігурацій для застосування змін.