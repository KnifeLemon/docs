<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <base href="{str_replace('index.php', '', $_SERVER['SCRIPT_NAME'])}" />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Mr+Dafoe" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            crossorigin="anonymous" />
        <script async defer src="https://buttons.github.io/buttons.js"></script>
        <link
            rel="stylesheet"
            href="https://unpkg.com/prismjs@1.29.0/themes/prism.min.css"
            id="prism_link" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.9/dist/css/autoComplete.min.css" />
        <link rel="stylesheet" href="./css/style.css?version=6" />

        <link rel="alternate" hreflang="en" href="{$url}?lang=en" />
        <link rel="alternate" hreflang="fr" href="{$url}?lang=fr" />
        <link rel="alternate" hreflang="es" href="{$url}?lang=es" />
        <link rel="alternate" hreflang="pt" href="{$url}?lang=pt" />
        <link rel="alternate" hreflang="lv" href="{$url}?lang=lv" />
        <link rel="alternate" hreflang="de" href="{$url}?lang=de" />
        <link rel="alternate" hreflang="ru" href="{$url}?lang=ru" />
        <link rel="alternate" hreflang="zh" href="{$url}?lang=zh" />
        <link rel="alternate" hreflang="ja" href="{$url}?lang=ja" />
        <link rel="alternate" hreflang="ko" href="{$url}?lang=ko" />
        <link rel="alternate" hreflang="uk" href="{$url}?lang=uk" />
        <link rel="alternate" hreflang="id" href="{$url}?lang=id" />
        <link rel="icon" type="image/png" href="./images/favicon.png" />
        <title>
            {if isset($page_title)}
            {_$page_title} -
            {/if}
            {isset($custom_page_title) ? $custom_page_title.' - '}
            Flight PHP Framework</title>
        <!-- HTML Meta Tags -->
        <meta
            name="description"
            content="Flight is a fast, simple, extensible framework for PHP. Flight enables you to quickly and easily build RESTful web applications." />

        <!-- Facebook Meta Tags -->
        <meta property="og:url" content="https://docs.flightphp.com" />
        <meta property="og:type" content="website" />
        <meta
            property="og:title"
            content="{if isset($page_title)}{_$page_title} - {/if}{isset($custom_page_title) ? $custom_page_title.' - '}Flight - An extensible micro-framework for PHP" />
        <meta
            property="og:description"
            content="Flight is a fast, simple, extensible framework for PHP. Flight enables you to quickly and easily build RESTful web applications." />
        <meta
            property="og:image"
            content="https://opengraph.b-cdn.net/production/documents/ade04545-313f-484b-b7fa-1ac9b7353fdc.png?token=PdAO1XOREJuL0GoaHMKS5iTnTrlcpivus_gxSKrMHAM&height=526&width=1200&expires=33243193906" />

        <!-- Twitter Meta Tags -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta property="twitter:domain" content="docs.flightphp.com" />
        <meta property="twitter:url" content="https://docs.flightphp.com" />
        <meta
            name="twitter:title"
            content="{if isset($page_title)}{_$page_title} - {/if}{isset($custom_page_title) ? $custom_page_title.' - '}Flight - An extensible micro-framework for PHP" />
        <meta
            name="twitter:description"
            content="Flight is a fast, simple, extensible framework for PHP. Flight enables you to quickly and easily build RESTful web applications." />
        <meta
            name="twitter:image"
            content="https://opengraph.b-cdn.net/production/documents/ade04545-313f-484b-b7fa-1ac9b7353fdc.png?token=PdAO1XOREJuL0GoaHMKS5iTnTrlcpivus_gxSKrMHAM&height=526&width=1200&expires=33243193906" />
        <!-- Meta Tags Generated via https://www.opengraph.xyz -->

        <script
            nonce="{$nonce}"
            n:syntax="off"
            src="./js/color-mode-toggler.js"></script>
    </head>
    <body>
        <div id="container" class="container">
            <header id="header" class="row justify-content-center">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <div class="container-fluid">
                        <button
                            class="navbar-toggler"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#main_navBarFlight"
                            aria-controls="main_navBarFlight"
                            aria-expanded="false"
                            aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                            <span class="visually-hidden">Toggle navigation</span>
                        </button>
                        <img
                            class="flight-logo flight-light-image"
                            src="./images/logo-flight.png"
                            alt="Flight logo"
                            height="30" />
                        <img
                            class="flight-logo flight-dark-image"
                            src="./images/logo-flight-dark.png"
                            alt="Flight logo dark variant"
                            height="30" />
                        <div class="collapse navbar-collapse" id="main_navBarFlight">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto h5" id="nav">
                                <li class="nav-item">
                                    <a
                                        n:class="in_array(Flight::request()->url, ['', '/']) ? 'active', nav-link"
                                        href="{Flight::getUrl('about')}">
                                        {_'about'}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a
                                        n:class="strpos(Flight::request()->url, '/install') !== false ? 'active', nav-link"
                                        href="{Flight::getUrl('install')}">
                                        {_'install'}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a
                                        n:class="strpos(Flight::request()->url, '/learn') !== false ? 'active', nav-link"
                                        href="{Flight::getUrl('learn')}">
                                        {_'learn'}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a
                                        n:class="strpos(Flight::request()->url, '/media') !== false ? 'active', nav-link"
                                        href="{Flight::getUrl('media')}">
                                        {_'media'}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a
                                        n:class="strpos(Flight::request()->url, '/examples') !== false ? 'active', nav-link"
                                        href="{Flight::getUrl('examples')}">
                                        {_'examples'}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a
                                        n:class="strpos(Flight::request()->url, '/awesome-plugins') !== false ? 'active', nav-link"
                                        href="{Flight::getUrl('awesome_plugins')}">
                                        {_'awesome_plugins'}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="https://github.com/flightphp/core"
                                        target="_blank">
                                        {_'code'}
                                    </a>
                                </li>
                                <li class="nav-item dropdown">
                                    <button
                                        class="btn btn-link dropdown-toggle"
                                        id="bd-theme"
                                        type="button"
                                        aria-expanded="false"
                                        data-bs-toggle="dropdown"
                                        data-bs-display="static"
                                        aria-label="Toggle theme (dark)">
                                        <i class="bi bi-brightness-high"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
                                        <a href="#" class="dropdown-item" data-bs-theme-value="light">
                                            <i class="bi bi-brightness-high-fill"></i>
                                            {_'light'}
                                        </a>
                                        <a href="#" class="dropdown-item" data-bs-theme-value="dark">
                                            <i class="bi bi-moon-fill"></i>
                                            {_'dark'}
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </header>
            <div class="row flight-container-search pt-2 py-md-5">
                <div class="d-none d-md-block col-md-4 text-right">
                    <img
                        class="flight-light-image img-fluid"
                        src="./images/left.png"
                        alt="Icons background left side" />
                    <img
                        class="flight-dark-image img-fluid"
                        src="./images/left-dark.png"
                        alt="Icons background left side in dark variant" />
                </div>
                <div class="col-md-4 col-12 text-center">
                    <span class="fs-5 d-block d-md-none">
                        {_'subtitle'|noescape}
                    </span>
                    <span class="fs-1 d-none d-md-block">
                        {_'subtitle'|noescape}
                    </span>
                    <input class="m-2" id="autocomplete" />
                </div>
                <div class="col-md-4 d-none d-md-block">
                    <img
                        class="flight-light-image img-fluid"
                        src="./images/right.png"
                        alt="Icons background right side" />
                    <img
                        class="flight-dark-image img-fluid"
                        src="./images/right-dark.png"
                        alt="Icons background right side in dark variant" />
                </div>
            </div>

            <main role="main">{block content}{/block}</main>

            <footer id="footer">
                <div class="buttons">
                    <a
                        class="github-button"
                        href="https://github.com/flightphp/core"
                        data-icon="octicon-star"
                        data-size="large"
                        data-show-count="true"
                        aria-label="Star flightphp/core on GitHub">
                        Star
                    </a>
                    <a
                        class="github-button"
                        href="https://github.com/flightphp/core/fork"
                        data-icon="octicon-repo-forked"
                        data-size="large"
                        data-show-count="true"
                        aria-label="Fork flightphp/core on GitHub">
                        Fork
                    </a>
                </div>
                <p>{_'made_with_love'|noescape}</p>
                <p>
                    <a href="/license">MIT {_'license'}</a>
                    -
                    {_'missing_documentation'|noescape}
                </p>
                <p>
                    <small>
                        Languages:
                        <a href="{$url}?lang=en">English</a> -
                        <a href="{$url}?lang=fr">Français</a> -
                        <a href="{$url}?lang=es">Español</a> -
                        <a href="{$url}?lang=pt">Português</a> -
                        <a href="{$url}?lang=lv">Latviešu</a> -
                        <a href="{$url}?lang=de">Deutsch</a> -
                        <a href="{$url}?lang=id">Indonesia</a> -
                        <a href="{$url}?lang=ru">Русский</a> -
                        <a href="{$url}?lang=uk">українська</a> -
                        <a href="{$url}?lang=zh">中文</a> -
                        <a href="{$url}?lang=ja">日本語</a> -
                        <a href="{$url}?lang=ko">한국어</a>
                    </small>
                </p>
                <p>
                    {_'need_to_view_single_page'}
                    <a href="{Flight::getUrl('single_page')}">{_'click_here'}</a>
                </p>
            </footer>
        </div>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            crossorigin="anonymous"></script>
        <script src="https://unpkg.com/prismjs@1.29.0/components/prism-core.min.js"></script>
        <script src="https://unpkg.com/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-3C36SDZ8FE"></script>
        <script nonce="{$nonce}" n:syntax="off" src="./js/gtag.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.9/dist/autoComplete.min.js"></script>
        <script nonce="{$nonce}" n:syntax="double">
            const autoCompletejs = new autoComplete({
                data: {
                    async src() {
                        const autoCompleteValue =
                            document.getElementById("autocomplete").value;

                        const query = encodeURIComponent(autoCompleteValue);
                        const searchUrl = {{Flight::getUrl('search')}};

                        try {
                            // Fetch Data from external Source
                            const source = await fetch(`${searchUrl}?query=${query}`);

                            // Data should be an array of `Objects` or `Strings`
                            const data = await source.json();

                            return data;
                        } catch (error) {
                            return error;
                        }
                    },
                    keys: ["search_result"],
                    cache: false,
                },
                selector: "#autocomplete",
                threshold: 2,
                debounce: 300,
                placeHolder: {{_'search_the_docs'}},
                highlight: true,
                resultsList: {
                    maxResults: 10,
                    noResults: false,
                },
                resultItem: {
                    highlight: true,
                },
                events: {
                    input: {
                        selection(event) {
                            const selection = event.detail.selection.value;

                            window.location.href = selection.url;
                        },
                    },
                },
            });
        </script>
    </body>
</html>
